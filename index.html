<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Portfolio</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- 导航栏 -->
  <nav class="navbar">
    <span class="navbar-name">Linling Xie</span>
    <a href="#self-intro">Self-Introduction</a>
    <a href="#awards">Awards</a>
    <a href="#activities">Extracurricular Activities</a>
    <a href="#drama">Drama Performance</a>
    <a href="#math">Math Competition</a>
    <a href="#research">Research Experience</a>
    <a href="#innovation">Innovation Competition</a>
  </nav>

  <!-- 自我介绍视频 -->
  <section id="self-intro" class="section">
    <h1>Self-Introduction</h1>
    <div class="video-container">
      <iframe width="800" height="450" src="https://www.youtube.com/embed/dQw4w9WgXcQ"
        title="YouTube video player" frameborder="0" allowfullscreen></iframe>
    </div>
  </section>

  <!-- Awards -->
  <section id="awards" class="section">
    <h1>Awards</h1>
    <div class="awards-carousel" id="awards-carousel">
      <div class="carousel-track">
        <div class="award-item" data-index="0">
          <img src="照片整理/奖状/4041749259013_.pic.jpg" alt="Award 1">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="1">
          <img src="照片整理/奖状/4051749259013_.pic.jpg" alt="Award 2">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="2">
          <img src="照片整理/奖状/4061749259014_.pic.jpg" alt="Award 3">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="3">
          <img src="照片整理/奖状/4071749259015_.pic.jpg" alt="Award 4">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="4">
          <img src="照片整理/奖状/4081749259017_.pic.jpg" alt="Award 5">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="5">
          <img src="照片整理/奖状/4091749259018_.pic.jpg" alt="Award 6">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="6">
          <img src="照片整理/奖状/4101749259019_.pic.jpg" alt="Award 7">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="7">
          <img src="照片整理/奖状/4111749259021_.pic.jpg" alt="Award 8">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="8">
          <img src="照片整理/奖状/4261749259217_.pic.jpg" alt="Award 9">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="9">
          <img src="照片整理/奖状/4281749259219_.pic.jpg" alt="Award 10">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="10">
          <img src="照片整理/奖状/4291749259220_.pic.jpg" alt="Award 11">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="11">
          <img src="照片整理/奖状/4301749259221_.pic.jpg" alt="Award 12">
          <div class="award-title"><b>XXX</b></div>
        </div>
        <div class="award-item" data-index="12">
          <img src="照片整理/奖状/4031749259012_.pic.jpg" alt="Award 13">
          <div class="award-title"><b>XXX</b></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Extracurricular Activities -->
  <section id="activities" class="section">
    <h1>Extracurricular Activities</h1>
    <div class="grid" id="activities-grid">
      <div class="activity-card" data-index="0">
        <img src="照片整理/学校/4661749259967_.pic.jpg" alt="Women in Math Study Group">
        <div>Women in Math Study Group</div>
      </div>
      <div class="activity-card" data-index="1">
        <img src="照片整理/学校/4661749259967_.pic.jpg" alt="International Math Study Group">
        <div>International Math Study Group</div>
      </div>
      <div class="activity-card" data-index="2">
        <img src="照片整理/学校/4661749259967_.pic.jpg" alt="Esports Club">
        <div>Esports Club</div>
      </div>
      <div class="activity-card" data-index="3">
        <img src="照片整理/学校/4661749259967_.pic.jpg" alt="Go Club">
        <div>Go Club</div>
      </div>
      <div class="activity-card" data-index="4">
        <img src="照片整理/学校/4661749259967_.pic.jpg" alt="WeChat Volunteer Translator Group">
        <div>WeChat Volunteer Translator Group</div>
      </div>
    </div>
    <!-- 详情区插入在这里 -->
    <div id="activity-detail-container"></div>
  </section>

  <!-- Drama Performance -->
  <section id="drama" class="section drama-section">
    <h1>Drama Performance</h1>
    <div class="drama-content">
      <div class="drama-images">
        <img src="照片整理/戏剧/4371749259321_.pic.jpg" class="main-img" id="drama-main-img" alt="Drama 1">
        <div class="thumbnails" id="drama-thumbnails">
          <img src="照片整理/戏剧/4371749259321_.pic.jpg" alt="Drama 1">
          <img src="照片整理/戏剧/4361749259319_.pic.jpg" alt="Drama 2">
          <!-- 更多缩略图 -->
        </div>
      </div>
      <div class="drama-desc">
        <p>XXX</p>
      </div>
    </div>
  </section>

  <!-- Math Competition -->
  <section id="math" class="section">
    <h1>Math Competition</h1>
    <div class="grid">
      <div class="card">
        <img src="照片整理/数学比赛/4441749259468_.pic.jpg" alt="HiMCM">
        <div>HiMCM</div>
      </div>
      <div class="card">
        <img src="照片整理/数学比赛/4561749259866_.pic.jpg" alt="American High School Mathematical Contest in Modeling">
        <div>American High School Mathematical Contest in Modeling</div>
      </div>
      <div class="card">
        <img src="照片整理/数学比赛/4401749259462_.pic.jpg" alt="DMM China">
        <div>DMM China</div>
      </div>
      <div class="card">
        <img src="照片整理/数学比赛/4461749259472_.pic.jpg" alt="Berkeley Math Tournament (BMT)">
        <div>Berkeley Math Tournament (BMT)</div>
      </div>
      <div class="card">
        <img src="照片整理/数学比赛/4611749259873_.pic.jpg" alt="AMC 12">
        <div>AMC 12</div>
      </div>
      <div class="card">
        <img src="照片整理/数学比赛/4391749259461_.pic.jpg" alt="Duke Math Meet China 2024">
        <div>Duke Math Meet China 2024</div>
      </div>
    </div>
  </section>

  <!-- Research Experience -->
  <section id="research" class="section research-section">
    <h1>Research Experience</h1>
    <div class="research-content">
      <div class="research-desc">
        <p>XXX</p>
      </div>
      <div class="research-img">
        <img src="照片整理/数学科研/4211749259188_.pic.jpg" alt="Research">
      </div>
    </div>
  </section>

  <!-- Innovation Competition -->
  <section id="innovation" class="section">
    <h1>Innovation Competition</h1>
    <div class="gallery">
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4491749259579_.pic.jpg" alt="Innovation 1">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4471749259577_.pic.jpg" alt="Innovation 2">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4351749259316_.pic.jpg" alt="Innovation 3">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4341749259315_.pic.jpg" alt="Innovation 4">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4331749259315_.pic.jpg" alt="Innovation 5">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4321749259222_.pic.jpg" alt="Innovation 6">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4311749259221_.pic.jpg" alt="Innovation 7">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4251749259197_.pic.jpg" alt="Innovation 8">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4241749259195_.pic.jpg" alt="Innovation 9">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4221749259191_.pic.jpg" alt="Innovation 10">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4271749259218_.pic.jpg" alt="Innovation 11">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4171749259119_.pic.jpg" alt="Innovation 12">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4231749259192_.pic.jpg" alt="Innovation 13">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4161749259104_.pic.jpg" alt="Innovation 14">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4141749259102_.pic.jpg" alt="Innovation 15">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4151749259102_.pic.jpg" alt="Innovation 16">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4121749259100_.pic.jpg" alt="Innovation 17">
        <div class="gallery-desc">XXX</div>
      </div>
      <div class="gallery-item">
        <img src="照片整理/科创比赛/4131749259101_.pic.jpg" alt="Innovation 18">
        <div class="gallery-desc">XXX</div>
      </div>
    </div>
  </section>

  <!-- Gallery Modal -->
  <div id="gallery-modal">
    <div class="modal-content">
      <span class="close-btn" id="close-gallery-modal">&times;</span>
      <img id="gallery-modal-img" src="" alt="Gallery Large">
    </div>
  </div>

  <div id="award-modal" class="modal">
    <div class="modal-content">
      <span class="close-btn" id="close-modal">&times;</span>
      <div class="modal-body">
        <div class="modal-img">
          <img id="modal-award-img" src="" alt="Award Large">
        </div>
        <div class="modal-info">
          <div><b>Award name:</b> <span id="modal-award-name">YYYY</span></div>
          <div><b>Grant Year:</b> <span id="modal-award-year">YYYY</span></div>
          <div><b>Introduction:</b> <span id="modal-award-intro">YYYY</span></div>
        </div>
      </div>
    </div>
  </div>

  <div id="activity-modal" class="activity-modal">
    <div class="activity-modal-content">
      <span class="close-btn" id="close-activity-modal">&times;</span>
      <div class="activity-modal-body">
        <div class="activity-modal-img">
          <img id="activity-modal-img" src="" alt="Activity Large">
        </div>
        <div class="activity-modal-info">
          <div class="activity-modal-title" id="activity-modal-title">Activity Name</div>
          <div class="activity-modal-desc" id="activity-modal-desc">Introduction ...</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 自动滚动
    const carousel = document.getElementById('awards-carousel');
    let scrollAmount = 0;
    let autoScroll = setInterval(() => {
      if (carousel) {
        carousel.scrollLeft += 2;
        scrollAmount += 2;
        // 到达末尾后回到开头
        if (carousel.scrollLeft + carousel.clientWidth >= carousel.scrollWidth - 2) {
          carousel.scrollLeft = 0;
          scrollAmount = 0;
        }
      }
    }, 20);

    // 鼠标悬停时暂停自动滚动
    carousel.addEventListener('mouseenter', () => clearInterval(autoScroll));
    carousel.addEventListener('mouseleave', () => {
      autoScroll = setInterval(() => {
        carousel.scrollLeft += 2;
        scrollAmount += 2;
        if (carousel.scrollLeft + carousel.clientWidth >= carousel.scrollWidth - 2) {
          carousel.scrollLeft = 0;
          scrollAmount = 0;
        }
      }, 20);
    });

    document.addEventListener('DOMContentLoaded', function() {
      const awardImages = [
        "照片整理/奖状/4041749259013_.pic.jpg",
        "照片整理/奖状/4051749259013_.pic.jpg",
        "照片整理/奖状/4061749259014_.pic.jpg",
        "照片整理/奖状/4071749259015_.pic.jpg",
        "照片整理/奖状/4081749259017_.pic.jpg",
        "照片整理/奖状/4091749259018_.pic.jpg",
        "照片整理/奖状/4101749259019_.pic.jpg",
        "照片整理/奖状/4111749259021_.pic.jpg",
        "照片整理/奖状/4261749259217_.pic.jpg",
        "照片整理/奖状/4281749259219_.pic.jpg",
        "照片整理/奖状/4291749259220_.pic.jpg",
        "照片整理/奖状/4301749259221_.pic.jpg",
        "照片整理/奖状/4031749259012_.pic.jpg"
      ];
      const awardInfos = Array(awardImages.length).fill({
        name: "XXX",
        year: "YYYY",
        intro: "YYYY"
      });

      document.querySelectorAll('.award-item').forEach(item => {
        item.addEventListener('click', function() {
          const idx = parseInt(this.getAttribute('data-index'));
          document.getElementById('modal-award-img').src = awardImages[idx];
          document.getElementById('modal-award-name').textContent = awardInfos[idx].name;
          document.getElementById('modal-award-year').textContent = awardInfos[idx].year;
          document.getElementById('modal-award-intro').textContent = awardInfos[idx].intro;
          document.getElementById('award-modal').style.display = 'flex';
        });
      });
      document.getElementById('close-modal').onclick = function() {
        document.getElementById('award-modal').style.display = 'none';
      };
      window.onclick = function(event) {
        if (event.target === document.getElementById('award-modal')) {
          document.getElementById('award-modal').style.display = 'none';
        }
      };

      // 你的锚点顺序和a标签顺序要一致
      const sections = [
        document.getElementById('self-intro'),
        document.getElementById('awards'),
        document.getElementById('activities'),
        document.getElementById('drama'),
        document.getElementById('math'),
        document.getElementById('research'),
        document.getElementById('innovation')
      ];
      const navLinks = document.querySelectorAll('.navbar a');

      function onScroll() {
        let scrollPos = window.scrollY || window.pageYOffset;
        let found = false;
        for (let i = sections.length - 1; i >= 0; i--) {
          if (sections[i] && scrollPos + 120 >= sections[i].offsetTop) { // 120为navbar高度+padding
            navLinks.forEach(link => link.classList.remove('active'));
            navLinks[i].classList.add('active');
            found = true;
            break;
          }
        }
        // 如果没找到，默认第一个
        if (!found) {
          navLinks.forEach(link => link.classList.remove('active'));
          navLinks[0].classList.add('active');
        }
      }

      window.addEventListener('scroll', onScroll);

      // 点击锚点平滑滚动
      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            window.scrollTo({
              top: target.offsetTop - 80, // navbar高度
              behavior: 'smooth'
            });
          }
        });
      });

      // 初始化
      onScroll();

      const mainImg = document.getElementById('drama-main-img');
      const thumbnails = document.querySelectorAll('#drama-thumbnails img');
      thumbnails.forEach(thumb => {
        thumb.addEventListener('click', function() {
          mainImg.src = this.src;
        });
      });

      document.querySelectorAll('.gallery-item img').forEach(img => {
        img.addEventListener('click', function() {
          document.getElementById('gallery-modal-img').src = this.src;
          document.getElementById('gallery-modal').style.display = 'flex';
        });
      });
      document.getElementById('close-gallery-modal').onclick = function() {
        document.getElementById('gallery-modal').style.display = 'none';
      };
      window.addEventListener('click', function(event) {
        const modal = document.getElementById('gallery-modal');
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      });

      const activityData = [
        {
          img: "照片整理/学校/4661749259967_.pic.jpg",
          title: "Women in Math Study Group",
          desc: "Introduction ..."
        },
        {
          img: "照片整理/学校/4661749259967_.pic.jpg",
          title: "International Math Study Group",
          desc: "Introduction ..."
        },
        {
          img: "照片整理/学校/4661749259967_.pic.jpg",
          title: "Esports Club",
          desc: "Introduction ..."
        },
        {
          img: "照片整理/学校/4661749259967_.pic.jpg",
          title: "Go Club",
          desc: "Introduction ..."
        },
        {
          img: "照片整理/学校/4661749259967_.pic.jpg",
          title: "WeChat Volunteer Translator Group",
          desc: "Introduction ..."
        }
      ];

      const detailContainer = document.getElementById('activity-detail-container');
      let currentDetail = null;

      document.querySelectorAll('.activity-card').forEach(card => {
        card.addEventListener('click', function() {
          const idx = parseInt(this.getAttribute('data-index'));
          // 构建详情区HTML
          detailContainer.innerHTML = `
            <div class="activity-detail">
              <span class="activity-detail-close" id="close-activity-detail">&times;</span>
              <div class="activity-detail-img">
                <img src="${activityData[idx].img}" alt="${activityData[idx].title}">
              </div>
              <div class="activity-detail-info">
                <div class="activity-detail-title">${activityData[idx].title}</div>
                <div class="activity-detail-desc">${activityData[idx].desc}</div>
              </div>
            </div>
          `;
          // 关闭按钮
          document.getElementById('close-activity-detail').onclick = function() {
            detailContainer.innerHTML = '';
          };
        });
      });

      // 点击空白处关闭详情区
      document.addEventListener('click', function(e) {
        const detail = document.querySelector('.activity-detail');
        if (detail && !detail.contains(e.target) && !e.target.classList.contains('activity-card') && !e.target.closest('.activity-card')) {
          detailContainer.innerHTML = '';
        }
      });
    });
  </script>
</body>
</html>